// Datastar Pro v1.0.0-RC.6 â€“ DATASTAR PRO MAY ONLY BE USED WITH A VALID LICENSE!
var ft=/ðŸ–•JS_DSðŸš€/.source,We=ft.slice(0,5),ze=ft.slice(4),K="datastar-fetch",Y="datastar-signal-patch";var pe=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").replace(/([a-z])([0-9]+)/gi,"$1-$2").replace(/([0-9]+)([a-z])/gi,"$1-$2").toLowerCase();var mt=e=>pe(e).replace(/-/g,"_");var oe=e=>{try{return JSON.parse(e)}catch{return Function(`return (${e})`)()}},dt={camel:e=>e.replace(/-[a-z]/g,t=>t[1].toUpperCase()),snake:e=>e.replace(/-/g,"_"),pascal:e=>e[0].toUpperCase()+dt.camel(e.slice(1))},P=(e,t,n="camel")=>{for(let r of t.get("case")||[n])e=dt[r]?.(e)||e;return e},X=e=>`data-${e}`;var D=Object.hasOwn??Object.prototype.hasOwnProperty.call;var ae=e=>e!==null&&typeof e=="object"&&(Object.getPrototypeOf(e)===Object.prototype||Object.getPrototypeOf(e)===null),xe=e=>{for(let t in e)if(D(e,t))return!1;return!0},ee=(e,t)=>{for(let n in e){let r=e[n];ae(r)||Array.isArray(r)?ee(r,t):e[n]=t(r)}},Me=e=>{let t={};for(let[n,r]of e){let i=n.split("."),s=i.pop(),o=i.reduce((a,c)=>a[c]??={},t);o[s]=r}return t};var Le=[],Je=[],ke=0,Fe=0,Ke=0,Qe,Q,Ne=0,R=()=>{ke++},x=()=>{--ke||(ht(),te())},B=e=>{Qe=Q,Q=e},U=()=>{Q=Qe,Qe=void 0},ge=e=>nn.bind(0,{previousValue:e,t:e,e:1}),Ze=Symbol("computed"),He=e=>{let t=rn.bind(0,{e:17,getter:e});return t[Ze]=1,t},y=e=>{let t={m:e,e:2};Q&&Xe(t,Q),B(t),R();try{t.m()}finally{x(),U()}return Et.bind(0,t)},ht=()=>{for(;Fe<Ke;){let e=Je[Fe];Je[Fe++]=void 0,vt(e,e.e&=-65)}Fe=0,Ke=0},pt=e=>"getter"in e?bt(e):yt(e,e.t),bt=e=>{B(e),St(e);try{let t=e.t;return t!==(e.t=e.getter(t))}finally{U(),Tt(e)}},yt=(e,t)=>(e.e=1,e.previousValue!==(e.previousValue=t)),Ye=e=>{let t=e.e;if(!(t&64)){e.e=t|64;let n=e.r;n?Ye(n.o):Je[Ke++]=e}},vt=(e,t)=>{if(t&16||t&32&&At(e.i,e)){B(e),St(e),R();try{e.m()}finally{x(),U(),Tt(e)}return}t&32&&(e.e=t&-33);let n=e.i;for(;n;){let r=n.c,i=r.e;i&64&&vt(r,r.e=i&-65),n=n.s}},nn=(e,...t)=>{if(t.length){if(e.t!==(e.t=t[0])){e.e=17;let r=e.r;return r&&(sn(r),ke||ht()),!0}return!1}let n=e.t;if(e.e&16&&yt(e,n)){let r=e.r;r&&Ce(r)}return Q&&Xe(e,Q),n},rn=e=>{let t=e.e;if(t&16||t&32&&At(e.i,e)){if(bt(e)){let n=e.r;n&&Ce(n)}}else t&32&&(e.e=t&-33);return Q&&Xe(e,Q),e.t},Et=e=>{let t=e.i;for(;t;)t=Oe(t,e);let n=e.r;n&&Oe(n),e.e=0},Xe=(e,t)=>{let n=t.a;if(n&&n.c===e)return;let r=n?n.s:t.i;if(r&&r.c===e){r.d=Ne,t.a=r;return}let i=e.p;if(i&&i.d===Ne&&i.o===t)return;let s=t.a=e.p={d:Ne,c:e,o:t,l:n,s:r,u:i};r&&(r.l=s),n?n.s=s:t.i=s,i?i.n=s:e.r=s},Oe=(e,t=e.o)=>{let n=e.c,r=e.l,i=e.s,s=e.n,o=e.u;if(i?i.l=r:t.a=r,r?r.s=i:t.i=i,s?s.u=o:n.p=o,o)o.n=s;else if(!(n.r=s))if("getter"in n){let a=n.i;if(a){n.e=17;do a=Oe(a,n);while(a)}}else"previousValue"in n||Et(n);return i},sn=e=>{let t=e.n,n;e:for(;;){let r=e.o,i=r.e;if(i&60?i&12?i&4?!(i&48)&&on(e,r)?(r.e=i|40,i&=1):i=0:r.e=i&-9|32:i=0:r.e=i|32,i&2&&Ye(r),i&1){let s=r.r;if(s){let o=(e=s).n;o&&(n={t,f:n},t=o);continue}}if(e=t){t=e.n;continue}for(;n;)if(e=n.t,n=n.f,e){t=e.n;continue e}break}},St=e=>{Ne++,e.a=void 0,e.e=e.e&-57|4},Tt=e=>{let t=e.a,n=t?t.s:e.i;for(;n;)n=Oe(n,e);e.e&=-5},At=(e,t)=>{let n,r=0,i=!1;e:for(;;){let s=e.c,o=s.e;if(t.e&16)i=!0;else if((o&17)===17){if(pt(s)){let a=s.r;a.n&&Ce(a),i=!0}}else if((o&33)===33){(e.n||e.u)&&(n={t:e,f:n}),e=s.i,t=s,++r;continue}if(!i){let a=e.s;if(a){e=a;continue}}for(;r--;){let a=t.r,c=a.n;if(c?(e=n.t,n=n.f):e=a,i){if(pt(t)){c&&Ce(a),t=e.o;continue}i=!1}else t.e&=-33;if(t=e.o,e.s){e=e.s;continue e}}return i}},Ce=e=>{do{let t=e.o,n=t.e;(n&48)===32&&(t.e=n|16,n&2&&Ye(t))}while(e=e.n)},on=(e,t)=>{let n=t.a;for(;n;){if(n===e)return!0;n=n.l}return!1},ce=e=>{let t=ne,n=e.split(".");for(let r of n){if(t==null||!D(t,r))return;t=t[r]}return t},Pe=(e,t="")=>{let n=Array.isArray(e);if(n||ae(e)){let r=n?[]:{};for(let s in e)r[s]=ge(Pe(e[s],`${t+s}.`));let i=ge(0);return new Proxy(r,{get(s,o){if(!(o==="toJSON"&&!D(r,o)))return n&&o in Array.prototype?(i(),r[o]):typeof o=="symbol"?r[o]:((!D(r,o)||r[o]()==null)&&(r[o]=ge(""),te(t+o,""),i(i()+1)),r[o]())},set(s,o,a){let c=t+o;if(n&&o==="length"){let l=r[o]-a;if(r[o]=a,l>0){let u={};for(let g=a;g<r[o];g++)u[g]=null;te(t.slice(0,-1),u),i(i()+1)}}else D(r,o)?a==null?delete r[o]:D(a,Ze)?(r[o]=a,te(c,"")):r[o](Pe(a,`${c}.`))&&te(c,a):a!=null&&(D(a,Ze)?(r[o]=a,te(c,"")):(r[o]=ge(Pe(a,`${c}.`)),te(c,a)),i(i()+1));return!0},deleteProperty(s,o){return delete r[o],i(i()+1),!0},ownKeys(){return i(),Reflect.ownKeys(r)},has(s,o){return i(),o in r}})}return e},te=(e,t)=>{if(e!==void 0&&t!==void 0&&Le.push([e,t]),!ke&&Le.length){let n=Me(Le);Le.length=0,document.dispatchEvent(new CustomEvent(Y,{detail:n}))}},O=(e,{ifMissing:t}={})=>{R();for(let n in e)e[n]==null?t||delete ne[n]:wt(e[n],n,ne,"",t);x()},w=(e,t)=>O(Me(e),t),wt=(e,t,n,r,i)=>{if(ae(e)){D(n,t)&&(ae(n[t])||Array.isArray(n[t]))||(n[t]={});for(let s in e)e[s]==null?i||delete n[t][s]:wt(e[s],s,n[t],`${r+t}.`,i)}else i&&D(n,t)||(n[t]=e)},gt=e=>typeof e=="string"?RegExp(e.replace(/^\/|\/$/g,"")):e,N=({include:e=/.*/,exclude:t=/(?!)/}={},n=ne)=>{let r=gt(e),i=gt(t),s=[],o=[[n,""]];for(;o.length;){let[a,c]=o.pop();for(let l in a){let u=c+l;ae(a[l])?o.push([a[l],`${u}.`]):r.test(u)&&!i.test(u)&&s.push([u,ce(u)])}}return Me(s)},ne=Pe({});var Z=e=>e instanceof HTMLElement||e instanceof SVGElement||e instanceof MathMLElement;var an="https://data-star.dev/errors",he=(e,t,n={})=>{Object.assign(n,e);let r=new Error,i=mt(t),s=new URLSearchParams({metadata:JSON.stringify(n)}).toString(),o=JSON.stringify(n,null,2);return r.message=`${t}
More info: ${an}/${i}?${s}
Context: ${o}`,r},$e=new Map,xt=new Map,Mt=new Map,Lt=new Proxy({},{get:(e,t)=>$e.get(t)?.apply,has:(e,t)=>$e.has(t),ownKeys:()=>Reflect.ownKeys($e),set:()=>!1,deleteProperty:()=>!1}),be=new Map,Ve=[],et=new Set,p=e=>{Ve.push(e),Ve.length===1&&setTimeout(()=>{for(let t of Ve)et.add(t.name),xt.set(t.name,t);Ve.length=0,fn(),et.clear()})},L=e=>{$e.set(e.name,e)};document.addEventListener(K,e=>{let t=Mt.get(e.detail.type);t&&t.apply({error:he.bind(0,{plugin:{type:"watcher",name:t.name},element:{id:e.target.id,tag:e.target.tagName}})},e.detail.argsRaw)});var ye=e=>{Mt.set(e.name,e)},Rt=e=>{for(let t of e){let n=be.get(t);if(be.delete(t)){for(let r of n.values())r();n.clear()}}},Ft=X("ignore"),cn=`[${Ft}]`,Nt=e=>e.hasAttribute(`${Ft}__self`)||!!e.closest(cn),_e=(e,t)=>{for(let n of e)if(!Nt(n))for(let r in n.dataset)Pt(n,r.replace(/[A-Z]/g,"-$&").toLowerCase(),n.dataset[r],t)},ln=e=>{for(let{target:t,type:n,attributeName:r,addedNodes:i,removedNodes:s}of e)if(n==="childList"){for(let o of s)Z(o)&&(Rt([o]),Rt(o.querySelectorAll("*")));for(let o of i)Z(o)&&(_e([o]),_e(o.querySelectorAll("*")))}else if(n==="attributes"&&r.startsWith("data-")&&Z(t)&&!Nt(t)){let o=r.slice(5),a=t.getAttribute(r);if(a===null){let c=be.get(t);c&&(c.get(o)?.(),c.delete(o))}else Pt(t,o,a)}},un=new MutationObserver(ln),fn=(e=document.documentElement)=>{Z(e)&&_e([e],!0),_e(e.querySelectorAll("*"),!0),un.observe(e,{subtree:!0,childList:!0,attributes:!0})},Pt=(e,t,n,r)=>{{let i=t,[s,...o]=i.split("__"),[a,c]=s.split(/:(.+)/),l=xt.get(a);if((!r||et.has(a))&&l){let u={el:e,rawKey:i,mods:new Map,error:he.bind(0,{plugin:{type:"attribute",name:l.name},element:{id:e.id,tag:e.tagName},expression:{rawKey:i,key:c,value:n}}),key:c,value:n,rx:void 0},g=l.requirement&&(typeof l.requirement=="string"?l.requirement:l.requirement.key)||"allowed",S=l.requirement&&(typeof l.requirement=="string"?l.requirement:l.requirement.value)||"allowed";if(c){if(g==="denied")throw u.error("KeyNotAllowed")}else if(g==="must")throw u.error("KeyRequired");if(n){if(S==="denied")throw u.error("ValueNotAllowed")}else if(S==="must")throw u.error("ValueRequired");if(g==="exclusive"||S==="exclusive"){if(c&&n)throw u.error("KeyAndValueProvided");if(!c&&!n)throw u.error("KeyOrValueRequired")}if(n){let m;u.rx=(...d)=>(m||(m=mn(n,{returnsValue:l.returnsValue,argNames:l.argNames})),m(e,...d))}for(let m of o){let[d,...h]=m.split(".");u.mods.set(d,new Set(h))}let f=l.apply(u);if(f){let m=be.get(e);m?m.get(i)?.():(m=new Map,be.set(e,m)),m.set(i,f)}}}},mn=(e,{returnsValue:t=!1,argNames:n=[]}={})=>{let r="";if(t){let a=/(\/(\\\/|[^/])*\/|"(\\"|[^"])*"|'(\\'|[^'])*'|`(\\`|[^`])*`|\(\s*((function)\s*\(\s*\)|(\(\s*\))\s*=>)\s*(?:\{[\s\S]*?\}|[^;){]*)\s*\)\s*\(\s*\)|[^;])+/gm,c=e.trim().match(a);if(c){let l=c.length-1,u=c[l].trim();u.startsWith("return")||(c[l]=`return (${u});`),r=c.join(`;
`)}}else r=e.trim();let i=new Map,s=RegExp(`(?:${We})(.*?)(?:${ze})`,"gm"),o=0;for(let a of r.matchAll(s)){let c=a[1],l=`__escaped${o++}`;i.set(l,c),r=r.replace(We+c+ze,l)}r=r.replace(/\$\['([a-zA-Z_$\d][\w$]*)'\]/g,"$$$1").replace(/\$([a-zA-Z_\d]\w*(?:[.-]\w+)*)/g,(a,c)=>c.split(".").reduce((l,u)=>`${l}['${u}']`,"$")).replace(/\[(\$[a-zA-Z_\d]\w*)\]/g,(a,c)=>`[$['${c.slice(1)}']]`),r=r.replaceAll(/@(\w+)\(/g,'__action("$1",evt,');for(let[a,c]of i)r=r.replace(a,c);try{let a=Function("el","$","__action","evt",...n,r);return(c,...l)=>{let u=(g,S,...f)=>{let m=he.bind(0,{plugin:{type:"action",name:g},element:{id:c.id,tag:c.tagName},expression:{fnContent:r,value:e}}),d=Lt[g];if(d)return d({el:c,evt:S,error:m},...f);throw m("UndefinedAction")};try{return a(c,ne,u,void 0,...l)}catch(g){throw console.error(g),he({element:{id:c.id,tag:c.tagName},expression:{fnContent:r,value:e},error:g.message},"ExecuteExpression")}}}catch(a){throw console.error(a),he({expression:{fnContent:r,value:e},error:a.message},"GenerateExpression")}};var $=new Map,ue=new Set,le=new Map,ve=new Set,fe=document.createElement("div");fe.hidden=!0;var Ee=X("ignore-morph"),dn=`[${Ee}]`,rt=(e,t,n="outer")=>{if(Z(e)&&Z(t)&&e.hasAttribute(Ee)&&t.hasAttribute(Ee)||e.parentElement?.closest(dn))return;let r=document.createElement("div");r.append(t),document.body.insertAdjacentElement("afterend",fe);let i=e.querySelectorAll("[id]");for(let{id:a,tagName:c}of i)le.has(a)?ve.add(a):le.set(a,c);e instanceof Element&&e.id&&(le.has(e.id)?ve.add(e.id):le.set(e.id,e.tagName)),ue.clear();let s=r.querySelectorAll("[id]");for(let{id:a,tagName:c}of s)ue.has(a)?ve.add(a):le.get(a)===c&&ue.add(a);for(let a of ve)ue.delete(a);le.clear(),ve.clear(),$.clear();let o=n==="outer"?e.parentElement:e;Ct(o,i),Ct(r,s),kt(o,r,n==="outer"?e:null,e.nextSibling),fe.remove()},kt=(e,t,n=null,r=null)=>{e instanceof HTMLTemplateElement&&t instanceof HTMLTemplateElement&&(e=e.content,t=t.content),n??=e.firstChild;for(let i of t.childNodes){if(n&&n!==r){let s=pn(i,n,r);if(s){if(s!==n){let o=n;for(;o&&o!==s;){let a=o;o=o.nextSibling,nt(a)}}tt(s,i),n=s.nextSibling;continue}}if(i instanceof Element&&ue.has(i.id)){let s=document.getElementById(i.id),o=s;for(;o=o.parentNode;){let a=$.get(o);a&&(a.delete(i.id),a.size||$.delete(o))}Ht(e,s,n),tt(s,i),n=s.nextSibling;continue}if($.has(i)){let s=document.createElement(i.tagName);e.insertBefore(s,n),tt(s,i),n=s.nextSibling}else{let s=document.importNode(i,!0);e.insertBefore(s,n),n=s.nextSibling}}for(;n&&n!==r;){let i=n;n=n.nextSibling,nt(i)}},pn=(e,t,n)=>{let r=null,i=e.nextSibling,s=0,o=0,a=$.get(e)?.size||0,c=t;for(;c&&c!==n;){if(Ot(c,e)){let l=!1,u=$.get(c),g=$.get(e);if(g&&u){for(let S of u)if(g.has(S)){l=!0;break}}if(l)return c;if(!r&&!$.has(c)){if(!a)return c;r=c}}if(o+=$.get(c)?.size||0,o>a)break;r===null&&i&&Ot(c,i)&&(s++,i=i.nextSibling,s>=2&&(r=void 0)),c=c.nextSibling}return r||null},Ot=(e,t)=>e.nodeType===t.nodeType&&e.tagName===t.tagName&&(!e.id||e.id===t.id),nt=e=>{$.has(e)?Ht(fe,e,null):e.parentNode?.removeChild(e)},Ht=nt.call.bind(fe.moveBefore??fe.insertBefore),gn=X("preserve-attr"),tt=(e,t)=>{let n=t.nodeType;if(n===1){let r=e,i=t;if(r.hasAttribute(Ee)&&i.hasAttribute(Ee))return e;r instanceof HTMLInputElement&&i instanceof HTMLInputElement&&i.type!=="file"?i.getAttribute("value")!==r.getAttribute("value")&&(r.value=i.getAttribute("value")??""):r instanceof HTMLTextAreaElement&&i instanceof HTMLTextAreaElement&&(i.value!==r.value&&(r.value=i.value),r.firstChild&&r.firstChild.nodeValue!==i.value&&(r.firstChild.nodeValue=i.value));let s=(t.getAttribute(gn)??"").split(" ");for(let{name:o,value:a}of i.attributes)r.getAttribute(o)!==a&&!s.includes(o)&&r.setAttribute(o,a);for(let o=r.attributes.length-1;o>=0;o--){let{name:a}=r.attributes[o];!i.hasAttribute(a)&&!s.includes(a)&&r.removeAttribute(a)}r.isEqualNode(i)||kt(r,i)}return(n===8||n===3)&&e.nodeValue!==t.nodeValue&&(e.nodeValue=t.nodeValue),e},Ct=(e,t)=>{for(let n of t)if(ue.has(n.id)){let r=n;for(;r&&r!==e;){let i=$.get(r);i||(i=new Set,$.set(r,i)),i.add(n.id),r=r.parentElement}}};L({name:"peek",apply(e,t){B();try{return t()}finally{U()}}});L({name:"setAll",apply(e,t,n){B();let r=N(n);ee(r,()=>t),O(r),U()}});L({name:"toggleAll",apply(e,t){B();let n=N(t);ee(n,r=>!r),O(n),U()}});var Ie=new WeakMap,Se=(e,t)=>L({name:e,apply:async({el:n,evt:r,error:i},s,{selector:o,headers:a,contentType:c="json",filterSignals:{include:l=/.*/,exclude:u=/(^|\.)_/}={},openWhenHidden:g=!1,retryInterval:S=1e3,retryScaler:f=2,retryMaxWaitMs:m=3e4,retryMaxCount:d=10,requestCancellation:h="auto"}={})=>{let v=h instanceof AbortController?h:new AbortController,A=h==="disabled";if(!A){let E=Ie.get(n);E&&(E.abort(),await Promise.resolve())}!A&&!(h instanceof AbortController)&&Ie.set(n,v);try{let E=new MutationObserver(C=>{for(let F of C)for(let k of F.removedNodes)k===n&&(v.abort(),G())});n.parentNode&&E.observe(n.parentNode,{childList:!0});let G=()=>{E.disconnect()};try{if(!s?.length)throw i("FetchNoUrlProvided",{action:L});let C={Accept:"text/event-stream, text/html, application/json","Datastar-Request":!0};c==="json"&&(C["Content-Type"]="application/json");let F=Object.assign({},C,a),k={method:t,headers:F,openWhenHidden:g,retryInterval:S,retryScaler:f,retryMaxWaitMs:m,retryMaxCount:d,signal:v.signal,onopen:async b=>{b.status>=400&&re(hn,n,{status:b.status.toString()})},onmessage:b=>{if(!b.event.startsWith("datastar"))return;let J=b.event,M={};for(let V of b.data.split(`
`)){let T=V.indexOf(" "),q=V.slice(0,T),de=V.slice(T+1);(M[q]||=[]).push(de)}let H=Object.fromEntries(Object.entries(M).map(([V,T])=>[V,T.join(`
`)]));re(J,n,H)},onerror:b=>{if(Vt(b))throw b("FetchExpectedTextEventStream",{url:s});b&&(console.error(b.message),re(bn,n,{message:b.message}))}},z=new URL(s,document.baseURI),I=new URLSearchParams(z.search);if(c==="json"){let b=JSON.stringify(N({include:l,exclude:u}));t==="GET"?I.set("datastar",b):k.body=b}else if(c==="form"){let b=o?document.querySelector(o):n.closest("form");if(!b)throw i("FetchFormNotFound",{action:L,selector:o});if(!b.checkValidity()){b.reportValidity(),G();return}let J=new FormData(b),M=n;if(n===b&&r instanceof SubmitEvent)M=r.submitter;else{let T=q=>q.preventDefault();b.addEventListener("submit",T),G=()=>{b.removeEventListener("submit",T),E.disconnect()}}if(M instanceof HTMLButtonElement){let T=M.getAttribute("name");T&&J.append(T,M.value)}let H=b.getAttribute("enctype")==="multipart/form-data";H||(F["Content-Type"]="application/x-www-form-urlencoded");let V=new URLSearchParams(J);if(t==="GET")for(let[T,q]of V)I.append(T,q);else H?k.body=J:k.body=V}else throw i("FetchInvalidContentType",{action:L,contentType:c});re(it,n,{}),z.search=I.toString();try{await An(z.toString(),n,k)}catch(b){if(!Vt(b))throw i("FetchFailed",{method:t,url:s,error:b.message})}}finally{re(st,n,{}),G()}}finally{Ie.get(n)===v&&Ie.delete(n)}}});Se("delete","DELETE");Se("get","GET");Se("patch","PATCH");Se("post","POST");Se("put","PUT");var it="started",st="finished",hn="error",bn="retrying",yn="retries-failed",re=(e,t,n)=>document.dispatchEvent(new CustomEvent(K,{detail:{type:e,el:t,argsRaw:n}})),Vt=e=>`${e}`.includes("text/event-stream"),vn=async(e,t)=>{let n=e.getReader(),r=await n.read();for(;!r.done;)t(r.value),r=await n.read()},En=e=>{let t,n,r,i=!1;return s=>{t?t=Tn(t,s):(t=s,n=0,r=-1);let o=t.length,a=0;for(;n<o;){i&&(t[n]===10&&(a=++n),i=!1);let c=-1;for(;n<o&&c===-1;++n)switch(t[n]){case 58:r===-1&&(r=n-a);break;case 13:i=!0;case 10:c=n;break}if(c===-1)break;e(t.subarray(a,c),r),a=n,r=-1}a===o?t=void 0:a&&(t=t.subarray(a),n-=a)}},Sn=(e,t,n)=>{let r=$t(),i=new TextDecoder;return(s,o)=>{if(!s.length)n?.(r),r=$t();else if(o>0){let a=i.decode(s.subarray(0,o)),c=o+(s[o+1]===32?2:1),l=i.decode(s.subarray(c));switch(a){case"data":r.data=r.data?`${r.data}
${l}`:l;break;case"event":r.event=l;break;case"id":e(r.id=l);break;case"retry":{let u=+l;Number.isNaN(u)||t(r.retry=u);break}}}}},Tn=(e,t)=>{let n=new Uint8Array(e.length+t.length);return n.set(e),n.set(t,e.length),n},$t=()=>({data:"",event:"",id:"",retry:void 0}),An=(e,t,{signal:n,headers:r,onopen:i,onmessage:s,onclose:o,onerror:a,openWhenHidden:c,fetch:l,retryInterval:u=1e3,retryScaler:g=2,retryMaxWaitMs:S=3e4,retryMaxCount:f=10,overrides:m,...d})=>new Promise((h,v)=>{let A={...r},E,G=()=>{E.abort(),document.hidden||J()};c||document.addEventListener("visibilitychange",G);let C=0,F=()=>{document.removeEventListener("visibilitychange",G),clearTimeout(C),E.abort()};n?.addEventListener("abort",()=>{F(),h()});let k=l||window.fetch,z=i||(()=>{}),I=0,b=u,J=async()=>{E=new AbortController;try{let M=await k(e,{...d,headers:A,signal:E.signal});I=0,u=b,await z(M);let H=async(T,q,de,we,...tn)=>{let ut={[de]:await q.text()};for(let Be of tn){let Ue=q.headers.get(`datastar-${pe(Be)}`);if(we){let Re=we[Be];Re&&(Ue=typeof Re=="string"?Re:JSON.stringify(Re))}Ue&&(ut[Be]=Ue)}re(T,t,ut),F(),h()},V=M.headers.get("Content-Type");if(V?.includes("text/html"))return await H("datastar-patch-elements",M,"elements",m,"selector","mode","useViewTransition");if(V?.includes("application/json"))return await H("datastar-patch-signals",M,"signals",m,"onlyIfMissing");if(V?.includes("text/javascript")){let T=document.createElement("script"),q=M.headers.get("datastar-script-attributes");if(q)for(let[de,we]of Object.entries(JSON.parse(q)))T.setAttribute(de,we);T.textContent=await M.text(),document.head.appendChild(T),F();return}await vn(M.body,En(Sn(T=>{T?A["last-event-id"]=T:delete A["last-event-id"]},T=>{b=u=T},s))),o?.(),F(),h()}catch(M){if(!E.signal.aborted)try{let H=a?.(M)||u;clearTimeout(C),C=setTimeout(J,H),u=Math.min(u*g,S),++I>=f?(re(yn,t,{}),F(),v("Max retries reached.")):console.error(`Datastar failed to reach ${e.toString()} retrying in ${H}ms.`)}catch(H){F(),v(H)}}};J()});p({name:"attr",requirement:{value:"must"},returnsValue:!0,apply({el:e,key:t,rx:n}){let r=(a,c)=>{c===""||c===!0?e.setAttribute(a,""):c===!1||c==null?e.removeAttribute(a):typeof c=="string"?e.setAttribute(a,c):e.setAttribute(a,JSON.stringify(c))},i=t?()=>{s.disconnect();let a=n();r(t,a),s.observe(e,{attributeFilter:[t]})}:()=>{s.disconnect();let a=n(),c=Object.keys(a);for(let l of c)r(l,a[l]);s.observe(e,{attributeFilter:c})},s=new MutationObserver(i),o=y(i);return()=>{s.disconnect(),o()}}});var wn=/^data:(?<mime>[^;]+);base64,(?<contents>.*)$/,_t=Symbol("empty"),It=X("bind");p({name:"bind",requirement:"exclusive",apply({el:e,key:t,mods:n,value:r,error:i}){let s=t!=null?P(t,n):r,o=(f,m)=>m==="number"?+f.value:f.value,a=f=>{e.value=`${f}`};if(e instanceof HTMLInputElement)switch(e.type){case"range":case"number":o=(f,m)=>m==="string"?f.value:+f.value;break;case"checkbox":o=(f,m)=>f.value!=="on"?m==="boolean"?f.checked:f.checked?f.value:"":m==="string"?f.checked?f.value:"":f.checked,a=f=>{e.checked=typeof f=="string"?f===e.value:f};break;case"radio":e.getAttribute("name")?.length||e.setAttribute("name",s),o=(f,m)=>f.checked?m==="number"?+f.value:f.value:_t,a=f=>{e.checked=f===(typeof f=="number"?+e.value:e.value)};break;case"file":{let f=()=>{let m=[...e.files||[]],d=[];Promise.all(m.map(h=>new Promise(v=>{let A=new FileReader;A.onload=()=>{if(typeof A.result!="string")throw i("InvalidFileResultType",{resultType:typeof A.result});let E=A.result.match(wn);if(!E?.groups)throw i("InvalidDataUri",{result:A.result});d.push({name:h.name,contents:E.groups.contents,mime:E.groups.mime})},A.onloadend=()=>v(),A.readAsDataURL(h)}))).then(()=>{w([[s,d]])})};return e.addEventListener("change",f),e.addEventListener("input",f),()=>{e.removeEventListener("change",f),e.removeEventListener("input",f)}}}else if(e instanceof HTMLSelectElement){if(e.multiple){let f=new Map;o=m=>[...m.selectedOptions].map(d=>{let h=f.get(d.value);return h==="string"||h==null?d.value:+d.value}),a=m=>{for(let d of e.options)m.includes(d.value)?(f.set(d.value,"string"),d.selected=!0):m.includes(+d.value)?(f.set(d.value,"number"),d.selected=!0):d.selected=!1}}}else e instanceof HTMLTextAreaElement||(o=f=>"value"in f?f.value:f.getAttribute("value"),a=f=>{"value"in e?e.value=f:e.setAttribute("value",f)});let c=ce(s),l=typeof c,u=s;if(Array.isArray(c)&&!(e instanceof HTMLSelectElement&&e.multiple)){let f=t||r,m=document.querySelectorAll(`[${It}\\:${CSS.escape(f)}],[${It}="${CSS.escape(f)}"]`),d=[],h=0;for(let v of m){if(d.push([`${u}.${h}`,o(v,"none")]),e===v)break;h++}w(d,{ifMissing:!0}),u=`${u}.${h}`}else w([[u,o(e,l)]],{ifMissing:!0});let g=()=>{let f=ce(u);if(f!=null){let m=o(e,typeof f);m!==_t&&w([[u,m]])}};e.addEventListener("input",g),e.addEventListener("change",g);let S=y(()=>{a(ce(u))});return()=>{S(),e.removeEventListener("input",g),e.removeEventListener("change",g)}}});p({name:"class",requirement:{value:"must"},returnsValue:!0,apply({key:e,el:t,mods:n,rx:r}){e&&(e=P(e,n,"kebab"));let i=()=>{s.disconnect();let a=e?{[e]:r()}:r();for(let c in a){let l=c.split(/\s+/).filter(u=>u.length>0);if(a[c])for(let u of l)t.classList.contains(u)||t.classList.add(u);else for(let u of l)t.classList.contains(u)&&t.classList.remove(u)}s.observe(t,{attributeFilter:["class"]})},s=new MutationObserver(i),o=y(i);return()=>{s.disconnect(),o();let a=e?{[e]:r()}:r();for(let c in a){let l=c.split(/\s+/).filter(u=>u.length>0);for(let u of l)t.classList.remove(u)}}}});p({name:"computed",requirement:{value:"must"},returnsValue:!0,apply({key:e,mods:t,rx:n,error:r}){if(e)w([[P(e,t),He(n)]]);else{let i=Object.assign({},n());ee(i,s=>{if(typeof s=="function")return He(s);throw r("ComputedExpectedFunction")}),O(i)}}});p({name:"effect",requirement:{key:"denied",value:"must"},apply:({rx:e})=>y(e)});p({name:"indicator",requirement:"exclusive",apply({el:e,key:t,mods:n,value:r}){let i=t!=null?P(t,n):r;w([[i,!1]]);let s=o=>{let{type:a,el:c}=o.detail;if(c===e)switch(a){case it:w([[i,!0]]);break;case st:w([[i,!1]]);break}};return document.addEventListener(K,s),()=>{w([[i,!1]]),document.removeEventListener(K,s)}}});p({name:"json-signals",requirement:{key:"denied"},apply({el:e,value:t,mods:n}){let r=n.has("terse")?0:2,i={};t&&(i=oe(t));let s=()=>{o.disconnect(),e.textContent=JSON.stringify(N(i),null,r),o.observe(e,{childList:!0,characterData:!0,subtree:!0})},o=new MutationObserver(s),a=y(s);return()=>{o.disconnect(),a()}}});var j=e=>{if(!e||e.size<=0)return 0;for(let t of e){if(t.endsWith("ms"))return+t.replace("ms","");if(t.endsWith("s"))return+t.replace("s","")*1e3;try{return Number.parseFloat(t)}catch{}}return 0},ie=(e,t,n=!1)=>e?e.has(t.toLowerCase()):n,qt=(e,t="")=>{if(e&&e.size>0)for(let n of e)return n;return t};var ot=(e,t)=>(...n)=>{setTimeout(()=>{e(...n)},t)},Rn=(e,t,n=!1,r=!0)=>{let i=0;return(...s)=>{i&&clearTimeout(i),n&&!i&&e(...s),i=setTimeout(()=>{r&&e(...s),i&&clearTimeout(i),i=0},t)}},xn=(e,t,n=!0,r=!1)=>{let i=!1;return(...s)=>{i||(n&&e(...s),i=!0,setTimeout(()=>{r&&e(...s),i=!1},t))}},W=(e,t)=>{let n=t.get("delay");if(n){let s=j(n);e=ot(e,s)}let r=t.get("debounce");if(r){let s=j(r),o=ie(r,"leading",!1),a=!ie(r,"notrailing",!1);e=Rn(e,s,o,a)}let i=t.get("throttle");if(i){let s=j(i),o=!ie(i,"noleading",!1),a=ie(i,"trailing",!1);e=xn(e,s,o,a)}return e};var Te=!!document.startViewTransition,_=(e,t)=>{if(t.has("viewtransition")&&Te){let n=e;e=(...r)=>document.startViewTransition(()=>n(...r))}return e};p({name:"on",requirement:"must",argNames:["evt"],apply({el:e,key:t,mods:n,rx:r}){let i=e;n.has("window")&&(i=window);let s=c=>{c&&(n.has("prevent")&&c.preventDefault(),n.has("stop")&&c.stopPropagation()),R(),r(c),x()};s=_(s,n),s=W(s,n);let o={capture:n.has("capture"),passive:n.has("passive"),once:n.has("once")};if(n.has("outside")){i=document;let c=s;s=l=>{e.contains(l?.target)||c(l)}}let a=P(t,n,"kebab");if((a===K||a===Y)&&(i=document),e instanceof HTMLFormElement&&a==="submit"){let c=s;s=l=>{l?.preventDefault(),c(l)}}return i.addEventListener(a,s,o),()=>{i.removeEventListener(a,s)}}});var at=new WeakSet;p({name:"on-intersect",requirement:{key:"denied",value:"must"},apply({el:e,mods:t,rx:n}){let r=()=>{R(),n(),x()};r=_(r,t),r=W(r,t);let i={threshold:0};t.has("full")?i.threshold=1:t.has("half")&&(i.threshold=.5);let s=new IntersectionObserver(o=>{for(let a of o)a.isIntersecting&&(r(),s&&at.has(e)&&s.disconnect())},i);return s.observe(e),t.has("once")&&at.add(e),()=>{t.has("once")||at.delete(e),s&&(s.disconnect(),s=null)}}});p({name:"on-interval",requirement:{key:"denied",value:"must"},apply({mods:e,rx:t}){let n=()=>{R(),t(),x()};n=_(n,e);let r=1e3,i=e.get("duration");i&&(r=j(i),ie(i,"leading",!1)&&n());let s=setInterval(n,r);return()=>{clearInterval(s)}}});p({name:"init",requirement:{key:"denied",value:"must"},apply({rx:e,mods:t}){let n=()=>{R(),e(),x()};n=_(n,t);let r=0,i=t.get("delay");i&&(r=j(i),r>0&&(n=ot(n,r))),n()}});p({name:"on-signal-patch",requirement:{value:"must"},argNames:["patch"],returnsValue:!0,apply({el:e,key:t,mods:n,rx:r,error:i}){if(t&&t!=="filter")throw i("KeyNotAllowed");let s=e.getAttribute("data-on-signal-patch-filter"),o={};s&&(o=oe(s));let a=W(c=>{let l=N(o,c.detail);xe(l)||(R(),r(l),x())},n);return document.addEventListener(Y,a),()=>{document.removeEventListener(Y,a)}}});p({name:"ref",requirement:"exclusive",apply({el:e,key:t,mods:n,value:r}){let i=t!=null?P(t,n):r;w([[i,e]])}});var Dt="none",jt="display";p({name:"show",requirement:{key:"denied",value:"must"},returnsValue:!0,apply({el:e,rx:t}){let n=()=>{r.disconnect(),t()?e.style.display===Dt&&e.style.removeProperty(jt):e.style.setProperty(jt,Dt),r.observe(e,{attributeFilter:["style"]})},r=new MutationObserver(n),i=y(n);return()=>{r.disconnect(),i()}}});p({name:"signals",returnsValue:!0,apply({key:e,mods:t,rx:n}){let r=t.has("ifmissing");if(e)e=P(e,t),w([[e,n?.()]],{ifMissing:r});else{let i=Object.assign({},n?.());O(i,{ifMissing:r})}}});p({name:"style",requirement:{value:"must"},returnsValue:!0,apply({key:e,el:t,rx:n}){let{style:r}=t,i=new Map,s=(l,u)=>{let g=i.get(l);!u&&u!==0?g!==void 0&&(g?r.setProperty(l,g):r.removeProperty(l)):(g===void 0&&i.set(l,r.getPropertyValue(l)),r.setProperty(l,String(u)))},o=()=>{if(a.disconnect(),e)s(e,n());else{let l=n();for(let[u,g]of i)u in l||(g?r.setProperty(u,g):r.removeProperty(u));for(let u in l)s(pe(u),l[u])}a.observe(t,{attributeFilter:["style"]})},a=new MutationObserver(o),c=y(o);return()=>{a.disconnect(),c();for(let[l,u]of i)u?r.setProperty(l,u):r.removeProperty(l)}}});p({name:"text",requirement:{key:"denied",value:"must"},returnsValue:!0,apply({el:e,rx:t}){let n=()=>{r.disconnect(),e.textContent=`${t()}`,r.observe(e,{childList:!0,characterData:!0,subtree:!0})},r=new MutationObserver(n),i=y(n);return()=>{r.disconnect(),i()}}});ye({name:"datastar-patch-elements",apply(e,{elements:t="",selector:n="",mode:r="outer",useViewTransition:i}){switch(r){case"remove":case"outer":case"inner":case"replace":case"prepend":case"append":case"before":case"after":break;default:throw e.error("PatchElementsInvalidMode",{mode:r})}if(!n&&r!=="outer"&&r!=="replace")throw e.error("PatchElementsExpectedSelector");let s={mode:r,selector:n,elements:t,useViewTransition:i?.trim()==="true"};Te&&i?document.startViewTransition(()=>Gt(e,s)):Gt(e,s)}});var Gt=({error:e},{elements:t,selector:n,mode:r})=>{let i=t.replace(/<svg(\s[^>]*>|>)([\s\S]*?)<\/svg>/gim,""),s=/<\/html>/.test(i),o=/<\/head>/.test(i),a=/<\/body>/.test(i),c=new DOMParser().parseFromString(s||o||a?t:`<body><template>${t}</template></body>`,"text/html"),l=document.createDocumentFragment();if(s?l.appendChild(c.documentElement):o&&a?(l.appendChild(c.head),l.appendChild(c.body)):o?l.appendChild(c.head):a?l.appendChild(c.body):l=c.querySelector("template").content,!n&&(r==="outer"||r==="replace"))for(let u of l.children){let g;if(u instanceof HTMLHtmlElement)g=document.documentElement;else if(u instanceof HTMLBodyElement)g=document.body;else if(u instanceof HTMLHeadElement)g=document.head;else if(g=document.getElementById(u.id),!g){console.warn(e("PatchElementsNoTargetsFound"),{element:{id:u.id}});continue}Ut(r,u,[g])}else{let u=document.querySelectorAll(n);if(!u.length){console.warn(e("PatchElementsNoTargetsFound"),{selector:n});return}Ut(r,l,u)}},ct=new WeakSet;for(let e of document.querySelectorAll("script"))ct.add(e);var Wt=e=>{let t=e instanceof HTMLScriptElement?[e]:e.querySelectorAll("script");for(let n of t)if(!ct.has(n)){let r=document.createElement("script");for(let{name:i,value:s}of n.attributes)r.setAttribute(i,s);r.text=n.text,n.replaceWith(r),ct.add(r)}},Bt=(e,t,n)=>{for(let r of e){let i=t.cloneNode(!0);Wt(i),r[n](i)}},Ut=(e,t,n)=>{switch(e){case"remove":for(let r of n)r.remove();break;case"outer":case"inner":for(let r of n)rt(r,t.cloneNode(!0),e),Wt(r);break;case"replace":Bt(n,t,"replaceWith");break;case"prepend":case"append":case"before":case"after":Bt(n,t,e)}};ye({name:"datastar-patch-signals",apply({error:e},{signals:t,onlyIfMissing:n}){if(t){let r=n?.trim()==="true";O(oe(t),{ifMissing:r})}else throw e("PatchSignalsExpectedSignals")}});L({name:"clipboard",apply:({error:e},t,n=!1)=>{if(!navigator.clipboard)throw e("ClipboardNotAvailable");navigator.clipboard.writeText(n?atob(t):t)}});var zt=(e,t,n)=>Math.max(t,Math.min(n,e)),qe=(e,t,n,r=!0)=>{let i=e+(t-e)*n;return r?zt(i,e,t):i},De=(e,t,n,r=!0)=>{if(n<e)return 0;if(n>t)return 1;let i=(n-e)/(t-e);return r?zt(i,e,t):i};L({name:"fit",apply:(e,t,n,r,i,s,o=!1,a=!1)=>{let c=De(n,r,t,o),l=qe(i,s,c,o);return a&&(l=Math.round(l)),l}});p({name:"animate",requirement:{value:"must"},returnsValue:!0,apply({el:e,key:t,mods:n,rx:r}){let i=1e3,s=n.get("duration");s&&(i=j(s));let o=qt(n.get("ease"),"linear"),a=se[o];if(!a)throw new Error(`Invalid easing function: ${o}. Available easing functions: ${Object.keys(se).join(", ")}`);let c=0,l=n.get("delay");l&&(c=j(l));let u=-1,g=()=>{u!==-1&&(cancelAnimationFrame(u),u=-1)},S=(f,m)=>{let d=Jt(m),h=e.getAttribute(f)||`0${d.suffix}`;if(h===m){e.setAttribute(f,m);return}let v=Jt(h);if(v.suffix!==d.suffix)throw new Error(`Cannot animate attribute "${f}" from "${h}" to "${m}" because they have different suffixes: "${v.suffix}" and "${d.suffix}".`);g();let A=0,E=0,G=()=>{let C=performance.now(),F=C>=E,k=0;if(F){k=d.value;let z=n.has("loop"),I=n.has("pingpong");if(z||I){if(A=C,E=C+i,I){let b=v.value;v.value=d.value,d.value=b}k=v.value,F=!1}}else{let z=De(A,E,C),I=a(z);k=qe(v.value,d.value,I)}e.setAttribute(f,`${k}${d.suffix}`),F?g():u=requestAnimationFrame(G)};setTimeout(()=>{A=performance.now(),E=A+i,u=requestAnimationFrame(G)},c)};return t?y(()=>{let f=r();S(t,`${f}`)}):y(()=>{let f=r();for(let[m,d]of Object.entries(f))S(m,d)})}});var Jt=e=>{let t=e.match(/^(-?\d*\.?\d+)([a-z%]*)$/i);if(t)return{value:Number.parseFloat(t[1]),suffix:t[2]||""};throw new Error(`Invalid suffixed value: ${e}`)},{sqrt:je,sin:Ae,cos:Kt,PI:me}=Math,se={linear:e=>e,quadratic:e=>e*(-(e*e)*e+4*e*e-6*e+4),cubic:e=>e*(4*e*e-9*e+6),elastic:e=>e*(33*e*e*e*e-106*e*e*e+126*e*e-67*e+15),inquad:e=>e*e,outquad:e=>e*(2-e),inoutquad:e=>e<.5?2*e*e:-1+(4-2*e)*e,incubic:e=>e*e*e,outcubic:e=>--e*e*e+1,inoutcubic:e=>e<.5?4*e*e*e:(e-1)*(2*e-2)*(2*e-2)+1,inquart:e=>e*e*e*e,outquart:e=>1- --e*e*e*e,inoutquart:e=>e<.5?8*e*e*e*e:1-8*--e*e*e*e,inquint:e=>e*e*e*e*e,outquint:e=>1+--e*e*e*e*e,inoutquint:e=>e<.5?16*e*e*e*e*e:1+16*--e*e*e*e*e,insine:e=>-Kt(e*(me/2))+1,outsine:e=>Ae(e*(me/2)),inoutsine:e=>-(Kt(me*e)-1)/2,inexpo:e=>2**(10*(e-1)),outexpo:e=>-(2**(-10*e))+1,inoutexpo:e=>(e/=.5,e<1?2**(10*(e-1))/2:(e--,(-(2**(-10*e))+2)/2)),incirc:e=>-je(1-e*e)+1,outcirc:e=>je(1-(e=e-1)*e),inoutcirc:e=>(e/=.5,e<1?-(je(1-e*e)-1)/2:(e-=2,(je(1-e*e)+1)/2)),inelastic:e=>{let t=2*me/3;return e===0?0:e===1?1:-(2**(10*(e-1)))*Ae((e-1.1)*t)},outelastic:e=>{let t=2*me/3;return e===0?0:e===1?1:2**(-10*e)*Ae((e-.1)*t)+1},inoutelastic:e=>{let t=2*me/4.5;return e===0?0:e===1?1:e<.5?-(2**(20*e-10))*Ae((20*e-11.125)*t)/2:2**(-20*e+10)*Ae((20*e-11.125)*t)/2+1},inback:e=>e*e*((1.70158+1)*e-1.70158),outback:e=>(e=e-1)*e*((1.70158+1)*e+1.70158)+1,inoutback:e=>{let t=2.5949095;return e/=.5,e<1?e*e*((t+1)*e-t)/2:(e-=2,(e*e*((t+1)*e+t)+2)/2)},inbounce:e=>1-se.outBounce(1-e),outbounce:e=>e<1/2.75?7.5625*e*e:e<2/2.75?(e-=1.5/2.75,7.5625*e*e+.75):e<2.5/2.75?(e-=2.25/2.75,7.5625*e*e+.9375):(e-=2.625/2.75,7.5625*e*e+.984375),inoutbounce:e=>e<.5?se.inBounce(e*2)/2:se.outBounce(e*2-1)/2+.5,ingolden:e=>e**1.834057,outgolden:e=>1-(1-e)**1.834057,inoutgolden:e=>e<.5?se.inGolden(e*2)/2:se.outGolden(e*2-1)/2+.5};p({name:"custom-validity",requirement:{key:"denied",value:"must"},returnsValue:!0,apply({el:e,rx:t,error:n}){if(!(e instanceof HTMLInputElement||e instanceof HTMLSelectElement||e instanceof HTMLTextAreaElement))throw n("CustomValidityInvalidElement",{element:{tag:e.tagName}});return y(()=>{let r=t();if(typeof r!="string")throw n("CustomValidityInvalidExpression",{expression:{value:r}});e.setCustomValidity(r)})}});p({name:"on-raf",requirement:{key:"denied",value:"must"},apply({mods:e,rx:t}){let n=()=>{R(),t(),x()};n=_(n,e),n=W(n,e);let r,i=()=>{n(),r=requestAnimationFrame(i)};return r=requestAnimationFrame(i),()=>{r&&cancelAnimationFrame(r)}}});p({name:"on-resize",requirement:{key:"denied",value:"must"},apply({el:e,mods:t,rx:n}){let r=()=>{R(),n(),x()};r=_(r,t),r=W(r,t);let i=new ResizeObserver(()=>{r()});return i.observe(e),()=>{i&&(i.disconnect(),i=null)}}});p({name:"persist",returnsValue:!0,apply({key:e,mods:t,rx:n}){let r=e||"datastar",i=t.has("session")?sessionStorage:localStorage,s=i[r];if(s)try{let o=JSON.parse(s);O(o)}catch(o){console.error("Failed to parse persisted data:",o)}return y(()=>{let o=N(n?.()),a=JSON.stringify(o);i[r]=a})}});p({name:"query-string",requirement:{key:"denied"},returnsValue:!0,apply({mods:e,rx:t}){let n=e.has("history"),r=!1,i=()=>new URLSearchParams(window.location.search),s=()=>N(t?.()),o=()=>{let l=i(),u=s(),g=[],S=(m,d="")=>{let h=[];for(let v in m){let A=d?`${d}.${v}`:v,E=m[v];E&&typeof E=="object"&&!(E instanceof HTMLElement)?h.push(...S(E,A)):h.push(A)}return h},f=S(u);for(let m of f){let d=l.get(m);if(d!==null){let h=d;d==="true"?h=!0:d==="false"?h=!1:!Number.isNaN(+d)&&d!==""&&(h=+d),g.push([m,h])}}xe(g)||w(g)};o();let a=()=>{r=!0,o(),r=!1};n&&window.addEventListener("popstate",a);let c=y(()=>{if(r)return;let l=new URLSearchParams,u=i().toString(),g=(f,m)=>{for(let d in f){let h=f[d],v=m.length?`${m}.${d}`:d;h instanceof HTMLElement||(typeof h=="object"?g(h,v):(!e.has("filter")||h)&&l.set(v,`${h}`))}};g(s(),"");let S=l.toString();if(S!==u){let f=S?`?${S}`:window.location.pathname;n?window.history.pushState({},"",f):window.history.replaceState({},"",f)}});return()=>{n&&window.removeEventListener("popstate",a),c()}}});p({name:"replace-url",requirement:{key:"denied",value:"must"},returnsValue:!0,apply({rx:e}){return y(()=>{let t=e(),n=window.location.href,r=new URL(t,n).toString();window.history.replaceState({},"",r)})}});var lt="smooth",Qt="instant",Zt="auto",Mn="hstart",Ln="hcenter",Fn="hend",Nn="hnearest",Pn="vstart",On="vcenter",Cn="vend",kn="vnearest",Ge="center",Yt="start",Xt="end",en="nearest",Hn="focus";p({name:"scroll-into-view",requirement:"denied",apply({el:e,mods:t}){let n={behavior:lt,block:Ge,inline:Ge};t.has(lt)&&(n.behavior=lt),t.has(Qt)&&(n.behavior=Qt),t.has(Zt)&&(n.behavior=Zt),t.has(Mn)&&(n.inline=Yt),t.has(Ln)&&(n.inline=Ge),t.has(Fn)&&(n.inline=Xt),t.has(Nn)&&(n.inline=en),t.has(Pn)&&(n.block=Yt),t.has(On)&&(n.block=Ge),t.has(Cn)&&(n.block=Xt),t.has(kn)&&(n.block=en),e.tabIndex||e.setAttribute("tabindex","0"),e.scrollIntoView(n),t.has(Hn)&&e.focus()}});p({name:"view-transition",requirement:{key:"denied",value:"must"},returnsValue:!0,apply({el:e,rx:t}){if(!Te){console.warn("Browser does not support view transitions");return}return y(()=>{let n=t();n&&(e.style.viewTransitionName=n)})}});export{L as action,Lt as actions,p as attribute,R as beginBatch,He as computed,y as effect,x as endBatch,N as filtered,ce as getPath,O as mergePatch,w as mergePaths,rt as morph,ne as root,ge as signal,B as startPeeking,U as stopPeeking,ye as watcher};
