Zero Draft App - 产品需求文档 (PRD)
版本: 1.0

日期: 2025年9月30日

作者: ichts

技术栈：
- 前端框架：Datastar (https://data-star.dev/)
- 数据存储：浏览器 localStorage
- 部署：静态网站托管（Vercel/Netlify/GitHub Pages）
- 打包工具：Vite

1. 概述 (Overview)
Zero Draft 是一款极简主义的"危险"写作应用，旨在帮助用户克服写作障碍和完美主义，专注于完成"零号草稿"（即未经审查、最原始的第一稿）。应用的核心机制是：如果在设定的时间内停止输入，已写下的文字将会消失。

本项目 MVP 阶段将开发一个纯前端的 Web App，数据存储在浏览器本地，完全免费，专注验证核心产品价值。

2. 解决的问题 (Problem Statement)
无论是学生、内容创作者还是开发者，在写作时常常会受到内心“完美主义审判官”的干扰。这种在“写”的同时就在“批判”和“修改”的习惯，会导致严重的心理内耗、拖延和写作障碍（Writer's Block）。用户需要的不是一个功能更强大的编辑器，而是一个能暂时“关闭”内在批判、强迫自己完成草稿的环境。

Zero Draft 通过创造一种温和的外部压力（文字会消失），来压倒这种破坏性的内部压力，从而解放用户的思绪，使其进入纯粹的“输出”心流状态。

3. 目标用户 (Target Audience)
学生与学者: 面对论文、报告等写作任务，需要快速完成初稿。

内容创作者: 博客作者、营销人员、新媒体编辑，需要持续、高效地生产内容。

创意写作者: 小说家、编剧，需要突破瓶颈期，推进故事发展。

专业人士 (包括开发者): 需要进行“大脑清空”（Brain Dump）来整理思绪、规划项目或撰写技术文档。

特别考虑: 创始人（你）具有INFP+AuDHD特质，重视深度专注、厌恶干扰和不必要的社交营销。因此，产品设计必须极度专注、无干扰，并依靠产品本身的价值实现自然增长。

4. MVP 核心功能 (MVP Features)

| Feature ID | 功能名称 | 描述 | 技术实现 |
|------------|----------|------|----------|
| MVP-01 | 核心写作界面 | 一个极简的、全屏或居中的文本输入区域，没有任何多余的UI元素。 | 使用 `<textarea>` 或 `contenteditable` div，Datastar 管理状态 |
| MVP-02 | "危险"机制 | - 用户停止输入 **5秒** 后，触发"危险"状态<br>- 文字内容逐渐模糊（CSS filter: blur）<br>- 再过 **3秒** 无输入，所有文字将被清空 | JavaScript 定时器 + Datastar 响应式状态 |
| MVP-03 | 会话设置 | 用户在开始前选择写作时长（5分钟、15分钟、30分钟、自定义） | 简单的选项界面，存储在会话变量中 |
| MVP-04 | 成功/失败状态 | - **成功**: 完成设定时长后，显示"复制"按钮<br>- **失败**: 文字被清空，显示鼓励性提示 | 状态机管理：idle → writing → danger → success/failed |
| MVP-05 | 本地存储 | 使用浏览器 localStorage 保存历史记录（最近10篇） | `localStorage.setItem('zerodraft_history', JSON.stringify(drafts))` |

5. 技术实现方案 (Technical Implementation)

## 5.1 状态机设计
```
idle (选择时长) → writing (正常输入) → danger (5秒无输入) → failed (3秒后清空)
                                      ↓ (继续输入)
                                   writing → success (时长到达)
```

## 5.2 数据结构
```javascript
// localStorage 存储格式
{
  "zerodraft_history": [
    {
      "id": "uuid-v4",
      "content": "文稿内容...",
      "wordCount": 1234,
      "duration": 900, // 秒
      "completedAt": "2025-09-30T10:30:00Z",
      "status": "success" | "failed"
    }
  ]
}
```

## 5.3 核心计时逻辑
- 使用 `setTimeout` 和 `clearTimeout` 管理定时器
- 每次键盘事件 (`input`, `keydown`) 重置"危险倒计时"
- 会话总时长使用 `setInterval` 每秒更新进度条

## 5.4 视觉反馈
- **危险状态**: `filter: blur(0 → 5px)` 渐变 + 红色边框脉冲动画
- **成功状态**: 绿色边框 + "✓ 完成" 提示
- **失败状态**: 文字淡出动画 (`opacity: 1 → 0`) + 清空

6. 设计与用户体验 (Design & UX)
核心原则: 极简主义、无干扰、沉浸式。

交互: 启动写作后，所有不必要的UI都应隐藏。用户的唯一任务就是"打字"。

视觉反馈: "危险"状态的视觉反馈（如红色边框、模糊效果）需要清晰明确，但又不能过于刺眼，以免打断思路。

字体与排版: 提供优雅、可读性高的默认字体，保证长时间写作的舒适度。
